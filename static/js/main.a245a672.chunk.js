(this.webpackJsonpappstore=this.webpackJsonpappstore||[]).push([[0],{48:function(e,t,c){},49:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},76:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(37),i=c.n(n),r=(c(48),c(15)),o=c(9),l=(c(49),c(81)),j=c(82),d=c(8),b=c(2),h=function(e){var t=e.item;return Object(b.jsx)("div",{className:"item-div",style:{color:"black"},children:Object(b.jsx)(l.a,{className:"item-card",children:Object(b.jsxs)(l.a.Body,{variant:"dark",children:[Object(b.jsx)(l.a.Title,{className:"item-title",children:t.title}),Object(b.jsx)(l.a.Img,{className:"item-img",src:t.imageId}),Object(b.jsx)(d.b,{className:"btn-shop",to:"/item/".concat(t.id),children:Object(b.jsx)(j.a,{style:{borderRadius:"0.8rem"},className:"btn btn-block",children:"Ver Producto"})})]})})})},m=(c(55),c(7)),u=(c(56),function(){return Object(b.jsx)("div",{className:"header__container"})}),O=function(e){var t=e.items,c=Object(m.f)().categoryId;return void 0===c?Object(b.jsxs)("div",{style:{minHeight:"100vh"},children:[Object(b.jsx)(u,{}),Object(b.jsx)("p",{className:"itemList-title",children:" Catalogo de productos"}),Object(b.jsx)("div",{className:"itemsContainer",children:t.map((function(e,t){return Object(b.jsx)("div",{children:Object(b.jsx)(h,{item:e})},t)}))})]}):Object(b.jsxs)("div",{style:{minHeight:"100vh"},children:[Object(b.jsx)(u,{}),Object(b.jsx)("h2",{className:"itemList-title",children:c}),Object(b.jsx)("div",{className:"itemsContainer",children:t.filter((function(e){return e.categoryId===c})).map((function(e,t){return Object(b.jsx)("div",{children:Object(b.jsx)(h,{item:e})},t)}))})]})},x=c(22),_=c.n(x),f=c(19),p=c.n(f),N=(c(33),p.a.initializeApp({apiKey:"AIzaSyC2fnztF0fgBzicxjnaG_P5iFHPs7LF5yU",authDomain:"storetech.firebaseapp.com",projectId:"storetech",storageBucket:"storetech.appspot.com",messagingSenderId:"343329553431",appId:"1:343329553431:web:8d654464aa267f1413b052"}));function v(){return p.a.firestore(N)}var g=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(!0),i=Object(o.a)(n,2),l=i[0],j=i[1];return Object(a.useEffect)((function(){v().collection("items").get().then((function(e){var t=e.docs.map((function(e){return Object(r.a)({id:e.id},e.data())}));s(t)})).catch((function(e){console.log("error inesperado ".concat(e))})).finally((function(){j(!1)}))}),[]),Object(b.jsx)("div",{style:{minHeight:"100vh"},children:!0===l?Object(b.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object(b.jsx)(_.a,{color:"#343A40",loading:l,height:100,width:10,radius:6,margin:6})}):Object(b.jsx)(O,{items:c})})},k=c(38),y=(c(67),c(43)),C=Object(a.createContext)(),S=function(e){var t=e.defaultValue,c=void 0===t?[]:t,s=e.children,n=Object(a.useState)(c),i=Object(o.a)(n,2),r=i[0],l=i[1],j=Object(a.useState)(0),d=Object(o.a)(j,2),h=d[0],m=d[1];return Object(a.useEffect)((function(){for(var e=0,t=0;t<r.length;t++)e+=r[t].item.price*r[t].quantity;m(e)}),[r]),Object(b.jsx)(C.Provider,{value:{cart:r,addItem:function(e,t,c){l([].concat(Object(y.a)(r),[{item:e,quantity:t,id:c}]))},removeItem:function(e){var t=r.filter((function(t){return t.item.id!==e}));l(t)},clear:function(){l([])},total:h},children:s})},I=function(){for(var e=Object(a.useContext)(C).cart,t=0,c=0;c<e.length;c++)t+=e[c].quantity;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(k.a,{className:"cart"}),t>=1&&Object(b.jsx)("span",{className:"cart__total",children:t})]})},T=(c(68),function(){return Object(b.jsxs)("header",{className:"menu__container",children:[Object(b.jsx)(d.b,{exact:!0,to:"/store-tech/",children:Object(b.jsx)("label",{className:"menu__label",children:"\ud83d\udcbbStore Tech"})}),Object(b.jsxs)("ul",{className:"menu",children:[Object(b.jsx)(d.c,{className:"menu__options",to:"/store-tech/category/celulares",activeClassName:"active",children:"Celulares"}),Object(b.jsx)(d.c,{className:"menu__options",to:"/store-tech/category/notebooks",activeClassName:"active",children:"Notebooks"}),Object(b.jsx)(d.c,{className:"menu__options",to:"/store-tech/category/televisores",activeClassName:"active",children:"Televisores"}),Object(b.jsx)(d.c,{className:"menu__options",to:"/store-tech/cart",activeClassName:"cartOn",children:Object(b.jsx)(I,{})})]})]})}),A=(c(69),function(){return Object(b.jsxs)("div",{className:"footer",children:[Object(b.jsx)("p",{className:"footer__title",children:"\xae Store Tech / 2021"}),Object(b.jsxs)("p",{className:"footer__credit",children:["Sitio hecho por",Object(b.jsx)("a",{className:"footer__autor",href:"https://oliveravictor.github.io/siteup/",target:"_blank",children:"V\xedctor Olivera"})]}),Object(b.jsx)("button",{className:"footer__button",children:Object(b.jsx)("a",{href:"https://www.linkedin.com/in/victor-olivera/",target:"_blank",children:Object(b.jsx)("i",{class:"fab fa-linkedin-in"})})}),Object(b.jsx)("button",{className:"footer__button",children:Object(b.jsx)("a",{href:"https://github.com/oliveravictor",target:"_blank",children:Object(b.jsx)("i",{class:"fab fa-github"})})})]})}),w=(c(70),c(71),function(e){var t=e.value,c=void 0===t?1:t,a=e.onAdd,s=e.onSubtract;return Object(b.jsxs)("div",{className:"div-count",children:[Object(b.jsx)(j.a,{variant:"dark",className:"handler-button",onClick:function(){return s()},children:"-"}),Object(b.jsx)("input",{className:"quantity",value:c}),Object(b.jsx)(j.a,{variant:"dark",className:"handler-button",onClick:function(){return a()},children:"+"})]})}),E=c(39),P=function(e){var t=e.detail,c=Object(a.useContext)(C).addItem,s=Object(a.useState)(1),n=Object(o.a)(s,2),i=n[0],r=n[1],h=t.stock-i,m=t.price*i,u=Object(a.useState)(!0),O=Object(o.a)(u,2),x=O[0],_=O[1],f=Object(a.useState)(!1),p=Object(o.a)(f,2),N=p[0],v=p[1],g=function(){r(i<t.stock?i+1:i)},k=function(){r(i>1?i-1:i)},y=function(){v(!0),_(!1),c(t,i,t.id)};return Object(b.jsx)("div",{style:{minHeight:"100vh"},children:Object(b.jsx)(l.a,{className:"detail__card",children:Object(b.jsxs)(l.a.Body,{className:"card-body",children:[Object(b.jsx)("img",{className:"detail__img",src:t.imageId}),Object(b.jsxs)("div",{className:"detail__text",children:[Object(b.jsx)("p",{className:"detail__title",children:t.title}),Object(b.jsx)("p",{className:"detail__description",children:t.description}),N?Object(b.jsx)("div",{className:"text-right",children:Object(b.jsxs)(d.b,{to:"/",className:"detail__buynext",children:["Seguir comprando",Object(b.jsx)(E.a,{className:"mb-3"})]})}):Object(b.jsxs)("p",{className:"detail__items",children:["STOCK: ",h," - $",0==i?t.price:m]}),Object(b.jsx)("div",{className:"detail__itemcount__button",children:x?Object(b.jsxs)("div",{children:[Object(b.jsx)(w,{value:i,stock:t.stock,onAdd:g,onSubtract:k}),Object(b.jsx)(j.a,{variant:"dark",onClick:function(){return y()},className:"detail__button",children:"\ud83d\uded2 Agregar productos"})]}):Object(b.jsxs)("div",{children:[N&&Object(b.jsxs)("p",{className:"detail__added",children:["\xa1Agregaste ",Object(b.jsxs)("span",{className:"detail__counter",children:[" ",i]}),t.title," al carrito!"]}),Object(b.jsx)(d.b,{to:"/cart",children:Object(b.jsx)(j.a,{variant:"dark",className:"detail__sales",children:"MI CARRITO"})})]})})]})]})})})},q=function(){var e=Object(a.useState)({}),t=Object(o.a)(e,2),c=t[0],s=t[1],n=Object(m.f)().id,i=Object(a.useState)(!0),l=Object(o.a)(i,2),j=l[0],d=l[1];return Object(a.useEffect)((function(){v().collection("items").doc(n).get().then((function(e){e.exists?s(Object(r.a)({id:e.id},e.data())):console.log("no existe el documento")})).catch((function(e){return console.log("ocurri\xf3 un error ".concat(e))})),d(!1)}),[c,n]),Object(b.jsx)("div",{style:{minHeight:"100vh"},children:!0===j?Object(b.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object(b.jsx)(_.a,{color:"#343A40",loading:j,height:100,width:10,radius:6,margin:6})}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u,{}),Object(b.jsx)("h3",{className:"text-center mt-4",children:"Detalle del producto"}),Object(b.jsx)(P,{detail:c})]})})},D=(c(72),function(){return Object(b.jsxs)("div",{className:"error__container",children:[Object(b.jsx)("h3",{className:"error__title",children:"Ups.. p\xe1gina no encontrada"}),";",Object(b.jsx)(d.b,{to:"/",className:"error__btn-container",children:Object(b.jsx)(j.a,{className:"error__button",variant:"dark",children:"Volver a Home"})})]})}),F=(c(73),c(77)),L=c(40),R=function(){for(var e=Object(a.useContext)(C),t=e.cart,c=e.removeItem,s=e.clear,n=0,i=0;i<t.length;i++)n+=t[i].item.price*t[i].quantity;return 0===t.length?Object(b.jsxs)("div",{className:"cart__font",children:[Object(b.jsx)("p",{className:"cart__title",children:"TU CARRITO EST\xc1 VAC\xcdO"}),Object(b.jsx)("p",{className:"cart__subtitle",children:"\xbfNo sab\xe9s qu\xe9 comprar? \xa1Muchos productos te esperan!"}),Object(b.jsx)("div",{className:"d-flex justify-content-center ",children:Object(b.jsx)(d.b,{to:"/",children:Object(b.jsx)(j.a,{md:3,className:"cart__button mt-0",variant:"dark",children:"VER TIENDA"})})})]}):Object(b.jsxs)("div",{className:"cart__row-div",children:[Object(b.jsx)("h2",{className:"text-center mt-3",children:"TU COMPRA"}),t.map((function(e){return Object(b.jsxs)(F.a,{className:"cart__row",children:[Object(b.jsx)(L.a,{md:3,children:Object(b.jsx)("img",{className:"cart__row-img",src:e.item.imageId})}),Object(b.jsx)(L.a,{md:3,className:"cart__row-items",children:Object(b.jsx)("p",{children:e.item.title})}),Object(b.jsx)(L.a,{md:2,className:"cart__row-items",children:Object(b.jsxs)("p",{children:["Cantidad: ",e.quantity]})}),Object(b.jsx)(L.a,{md:2,className:"cart__row-items",children:Object(b.jsxs)("p",{children:["Precio: $",e.item.price]})}),Object(b.jsx)(L.a,{md:2,className:"cart__row-button",children:Object(b.jsx)(j.a,{variant:"dark",onClick:function(){return c(e.item.id)},children:"Eliminar"})})]},e.item.id)})),Object(b.jsxs)("h2",{className:"text-center mt-5",children:["Total: $ ",n," "]}),Object(b.jsxs)("div",{className:"d-flex justify-content-center mb-5",children:[Object(b.jsx)(j.a,{className:"mt-3 mb-5",variant:"dark",onClick:function(){return s()},children:"Vaciar Carrito"}),Object(b.jsx)(d.b,{to:"/checkout",children:Object(b.jsx)(j.a,{className:"ml-2 mt-3 mb-5",variant:"dark",children:"Terminar compra"})})]})]})},B=c(20),H=(c(74),c(41)),V=c.n(H),U=c(80),$=c(78),z=c(79),M=c(42),G=function(){var e=Object(a.useContext)(C),t=Object(a.useState)({}),c=Object(o.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)(""),l=Object(o.a)(i,2),d=l[0],h=l[1],m=Object(a.useState)({name:"",phone:"",email:""}),u=Object(o.a)(m,2),O=u[0],x=u[1],_=Object(a.useState)(!0),f=Object(o.a)(_,2),N=f[0],g=f[1],k=Object(a.useState)(!1),y=Object(o.a)(k,2),S=y[0],I=y[1];Object(a.useEffect)((function(){n({buyer:O,items:e.cart,date:p.a.firestore.Timestamp.fromDate(new Date),total:e.total})}),[O,e.total,e.cart]);var T=function(e){x(Object(r.a)(Object(r.a)({},O),{},Object(B.a)({},e.target.id,e.target.value)))},A=""===O.name||""===O.phone||""===O.email;return S?N?Object(b.jsx)("div",{className:"checkout__loader",children:Object(b.jsx)(V.a,{color:"#A19882",loading:N,size:100})}):Object(b.jsx)("div",{className:"checkout__container",children:Object(b.jsx)("div",{className:"checkout__token",children:Object(b.jsxs)("div",{className:"checkout__card",children:[Object(b.jsx)("p",{className:"checkout__card-title",children:"Operaci\xf3n Exitosa"}),Object(b.jsx)("p",{className:"checkout__card-code",children:"C\xf3digo de compra:"}),d&&Object(b.jsx)("b",{className:"checkout__card-order",children:d}),Object(b.jsx)(M.a,{className:"checkout__card-icon"}),Object(b.jsx)("p",{className:"checkout__card-code",children:"\xa1Gracias por comprar en StoreTech!"})]})})}):Object(b.jsxs)("div",{className:"checkout",children:[Object(b.jsx)("p",{className:"checkout__title",children:"Ingres\xe1 tus datos"}),Object(b.jsx)(U.a,{children:Object(b.jsxs)($.a,{className:"mb-3",controlId:"formBasicEmail",children:[Object(b.jsx)(U.a.Label,{className:"checkout__label",children:"Nombre"}),Object(b.jsx)(U.a.Control,{onChange:T,type:"text",placeholder:"Ingres\xe1 tu nombre",id:"name"}),Object(b.jsx)(U.a.Label,{className:"checkout__label",children:"Correo"}),Object(b.jsx)(U.a.Control,{onChange:T,type:"email",placeholder:"Correo@ejemplo.com",id:"email"}),Object(b.jsx)(U.a.Label,{className:"checkout__label",children:"Telefono"}),Object(b.jsx)(U.a.Control,{onChange:T,type:"number",placeholder:"Tu n\xfamero sin el 0 y sin el 15",id:"phone"})]})}),Object(b.jsx)("p",{className:"checkout__title",children:"Mi Carrito"}),Object(b.jsxs)(z.a,{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"PRODUCTO"}),Object(b.jsx)("th",{children:"PRECIO"}),Object(b.jsx)("th",{children:"CANTIDAD"}),Object(b.jsx)("th",{children:"SUBTOTAL"})]})}),e.cart.map((function(e){var t=e.item,c=e.quantity;return Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{className:"checkout__th",children:t.title}),Object(b.jsxs)("th",{className:"checkout__th",children:["$",t.price]}),Object(b.jsx)("th",{className:"checkout__th",children:c}),Object(b.jsxs)("th",{className:"checkout__th",children:["$",c*t.price]})]})},t.id)}))]}),Object(b.jsxs)("p",{className:"checkout__total",children:["Total: $",e.total]}),Object(b.jsx)("div",{className:"d-flex justify-content-center",children:A?Object(b.jsx)(j.a,{type:"submit",className:"checkout__button-opacity",children:"Procesar pago"}):Object(b.jsx)(j.a,{type:"submit",className:"checkout__button",onClick:function(){g(!0),I(!0);var t=v();t.collection("orders").add(s).then((function(c){var a=c.id;h(a);var s=t.batch(),n=t.collection("items");e.cart.forEach((function(e){s.update(n.doc(e.id),{stock:e.item.stock-e.quantity})})),s.commit().then((function(){e.clear()}))})).catch((function(e){console.log("ocurri\xf3 un error",e)})).finally((function(){console.log("Operaci\xf3n exitosa"),g(!1)}))},children:"Procesar pago"})})]})};var J=function(){return Object(b.jsx)(S,{children:Object(b.jsxs)(d.a,{children:[Object(b.jsx)(T,{}),Object(b.jsxs)(m.c,{children:[Object(b.jsx)(m.a,{path:"/store-tech",component:g}),Object(b.jsx)(m.a,{exact:!0,path:"/item/:id",component:q}),Object(b.jsx)(m.a,{path:"/category/:categoryId",component:g}),Object(b.jsx)(m.a,{exact:!0,path:"/store-tech/cart",component:R}),Object(b.jsx)(m.a,{exact:!0,path:"/",component:g}),Object(b.jsx)(m.a,{exact:!0,path:"/store-tech/checkout",component:G}),Object(b.jsx)(m.a,{path:"*",component:D})]}),Object(b.jsx)(A,{})]})})},K=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,83)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),a(e),s(e),n(e),i(e)}))};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(J,{})}),document.getElementById("root")),K()}},[[76,1,2]]]);
//# sourceMappingURL=main.a245a672.chunk.js.map